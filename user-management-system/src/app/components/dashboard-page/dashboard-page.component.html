<div class="container-fluid">
    <div *ngIf="fetchingDetails" class="d-flex justify-content-center m-2">
        <span class="spinner-border text-primary"></span>
    </div>
    <div class="row mt-5">
        <div class="col-3" id="profile">
            <div>
                <img src="../../../assets/Rough.jpg" alt="profile" class="border border-2">
            </div>
            <div class="ms-5" id="user-name">{{userObj.username}}
                <span class="bi-pencil-square" (click)="changeUserName()"></span>
            </div>
        </div>
        <div class="col-9 mt-3" id="data">
            <div class="row">
                <div class="col">
                    <div>
                        <label class="form-label">Full Name</label>
                        <input type="text" [disabled]="!isEditable" [(ngModel)]="userObj.fullName"
                            class="form-control shadow rounded-3 p-2">
                    </div>
                    <div>
                        <label class="form-label">Mobile</label>
                        <input type="text" [disabled]="!isEditable" [(ngModel)]="userObj.mobile"
                        class="form-control shadow rounded-3 p-2">
                    </div>
                </div>
                <div class="col">
                    <div>
                        <label class="form-label">Email</label>
                        <input type="text" [disabled]="!isEditable" [(ngModel)]="userObj.email"
                        class="form-control shadow rounded-3 p-2">
                    </div>
                    <div>
                        <label class="form-label">Address</label>
                        <input type="text" [disabled]="!isEditable" [(ngModel)]="userObj.address"
                        class="form-control shadow rounded-3 p-2">
                    </div>
                </div>
            </div>
            <div class="d-flex mt-3">
                <button type="button" class="btn btn-primary me-4" (click)="toggleEdit()">
                    {{ isEditable ? 'Update Details' : 'Edit Details' }}
                </button>
                <button type="button" class="btn btn-danger" (click)="logOut()">Logout</button>
                <div *ngIf="response">{{response}}</div>
                <div *ngIf="isUpdating"><span class="spinner-border text-warning"></span></div>
            </div>
        </div>
    </div>
    <div class="todoList">
        <h1>{{firstName}}
            <a [routerLink]="['/user/dashboard/todo_list',firstName]" [queryParams]="{id:userId}">
                Manage your Todo List
            </a>
        </h1>
    </div>
</div>